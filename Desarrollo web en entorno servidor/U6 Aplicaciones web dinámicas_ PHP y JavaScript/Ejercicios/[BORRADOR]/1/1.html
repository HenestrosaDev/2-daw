<header>
	<h1>Asincronía en las aplicaciones web</h1>
</header>
<main>
	<ol type="a">
		<li>
			<h2>Explica qué es la <strong><a href="https://en.wikipedia.org/wiki/Asynchrony_(computer_programming)" target="_blank" rel="noopener">asincronía</a></strong>, 
				la <strong><a href="https://en.wikipedia.org/wiki/Asynchronous_I/O" target="_blank" rel="noopener">E/S asíncrona</a></strong> 
				y describe estos <strong><a href="https://stackoverflow.com/a/10102768" target="_blank" rel="noopener">dos ejemplos</a></strong>.</h2>
			<p>La <strong>asincronía</strong> aplicada a la programación ocurre cuando un evento o una serie de eventos se desencadenan independientemente del flujo principal del programa. Ejemplos de este tipo de eventos son el recibimiento de peticiones que se tienen que ejecutar concurrentemente con el flujo principal del programa <strong>sin bloquearlo</strong>. Un caso práctico sería enviar un JSON a una API REST mientras que se cargan los componentes visuales de la aplicación.</p>
			<p>La <strong>asincronía <abbr title="Entrada/Salida">E/S</abbr> (en inglés, asynchronous <abbr title="Input/Output">I/O</abbr>) es una forma de procesar las entradas y salidas de una aplicación para permitir el procesamiento de otras tareas independientes a la acción de entrada/salida.
				Otra forma de tratar esta situación sería mediante <strong>sincronía E/S</strong> (en inglés, synchrony I/O). Aquí se pausarían todos los procesos del programa hasta que se recibiera la entrada (input) y se procesara la salida (output). Con la asincronía E/S evitamos que los recursos del sistema estén <em>inactivos</em> y ejecutamos procesos no relacionados con la entrada.</p>
			<blockquote cite="https://stackoverflow.com/a/10102768">
				<strong>synchronous</strong>
				<p>When I call you on the phone, I dial your number and WAIT until you pick up. Then you say something, and in the very same moment I listen to you. When you finished, I send you data (talk to you) and in the same moment you receive them (listen to me). At the end of our communication one of us says "END OF TRANSMISSION" (Good Bye), the other says "Acknowledged" (Good Bye) and then both ring off.</p>
			</blockquote>
			<p>En este ejemplo, vemos cómo se establece una analogía para explicar la sincronía. En este caso, se compara con el flujo de una conversación, la cual fluye a medida que los interlocutores avanzan en la conversación.</p>
			<blockquote cite="https://stackoverflow.com/a/10102768">
				<strong>asynchronous</strong>
				<p>I write you a letter. I put it to the postoffice, and it will be sent to you. I the meantime I do NOT WAIT. I do many different other things. Then you receive the letter. You read it while I still do many different other things. Then you write me an answer and send it to me. In all those things I am not involved. At the next day I get a (synchronous) message (a signal) from the system (postman). It (he) says: "Here is a message for you". Alternatively I could poll my inbox every five minutes to check if a new letter is there. Then I pause my other work, receive your letter and read your answer. Then I do something according to this answer. But this are things you will not notice, because you are not involved in what I do with your asynchronous answer.</p>
			</blockquote>
			<p>Para explicar la asincronía se establece otra analogía. En este caso, se pone como ejemplo el envío de una carta. El remitente no espera a que el destinatario le envíe la respuesta, sino que realiza multitud de tareas mientras espera su recibimiento. Mientras tanto, se puede establecer que el remitente compruebe el buzón cada X tiempo para comprobar si hay cartas o, alternativamente, que el cartero toque a mi puerta notificándomelo. En cualquiera de estos escenarios, el destinatario no puede controlar lo que el remitente hace con sus cartas ya que solo se encarga de enviarlas.</p>
		</li> 
		<li>
			<h2>Define qué es una <strong>aplicación web asíncrona</strong> y busca, al menos, tres ejemplos reales.</h2>
			<p>Una <a href="https://www.microfocus.com/documentation/silk-performer/205/en/silkperformer-205-webhelp-en/GUID-6CC17B5B-71B7-4703-B9E6-C81835A5335A.html" target="_blank" rel="noopener">aplicación web asíncrona</a> envía, continuamente, información de la aplicación actualizada a los clientes.
				Esto se consigue al separar las peticiones del cliente de las actualizaciones de la aplicación. Estas dos operaciones pueden realizarse <strong>en paralelo</strong> (de forma NO concurrente).</p>
			<p>Podemos encontrar este tipo de casos en multitud de escenarios. Uno de ellos puede ser un bróker de acciones, en el que el precio de la acción de cada empresa debe de estar actualizado constantemente para asegurar que el cliente interactúa con un precio fiel al del mercado.</p>
			<p>Otro ejemplo podría ser el de una aplicación web destinada a consultar el tiempo, ya que se tiene que actualizar la información de todos los pueblos que abarque para que el usuario pueda consultar datos actualizados.</p>
			<p>Por último, también se puede contemplar el caso de una aplicación destinada a resultados de fútbol en tiempo real. La página debe mostrar información actualizada con los detalles del partido y permitir al usuario acceder a dicha información.</p>
		</li>
		<li>
			<h2>Lee, investiga y explica con tus propias palabras lo que es <a href="https://en.wikipedia.org/wiki/Ajax_(programming)" target="_blank" rel="noopener">Ajax</a>, para qué sirve y mira <a href="https://www.youtube.com/watch?v=z2aipCAq2n8" target="_blank" rel="noopener">este vídeo</a>.</h2>
			<p><abbr title="Asynchronous JavaScript and XML">Ajax</abbr> alberga una serie de técnicas de desarrollo web utilizadas en la parte del cliente para poder ejecutar tareas asíncronas, sin interferir en la interfaz gráfica o en el comportamiento de la aplicación.
			<p>En la mayoría de casos, se usa a modo de intermediario entre el servidor y el cliente web sin necesidad de recargar la página, lo cual mejora la interactividad, la usabiblidad y la velocidad de la página.</p>
		</li>
		<li>
			<h2>Explica <a href="https://www.w3schools.com/xml/tryit.asp?filename=tryajax_database" target="_blank" rel="noopener">este ejemplo</a> Ajax que consulta y muestra datos en una base de datos de manera asíncrona.</h2>
			<p>En el ejemplo comprobamos que, al cambiar la opción del dropdown, los datos mostrados en la tabla cambian sin necesidad de refrescar la página. Esto se debe a que se está haciendo uso de Ajax. En este bloque, se muestra el código JavaScript encargado de ello:</p>
			<pre>
				<code>
function showCustomer(str) {
	var xhttp;    
	if (str == "") {
		document.getElementById("txtHint").innerHTML = "";
		return;
	}
	xhttp = new XMLHttpRequest();
	xhttp.onreadystatechange = function() {
		if (this.readyState == 4 && this.status == 200) {
			document.getElementById("txtHint").innerHTML = this.responseText;
		}
	};
	xhttp.open("GET", "getcustomer.php?q="+str, true);
	xhttp.send();
}
				</code>
			</pre>
			<p>La instancia <var>xhttp</var> de la clase <var>XMLHttpRequest</var> permite el intercambio de datos entre el cliente y el servidor asíncronamente.</p>
			<p><var>onreadystatechange</var> almacena la función que se ejecutará cuando el objeto XMLHttpRequest cambie de estado. En este caso, la función se encarga de cambiar el HTML del elemento con id <var>txtHint</var> cuando la petición se haya podido procesar correctamente (código HTTP 200 y readyState 4).</p>
			<p>Es importante tener en cuenta que hay 5 estados distintos de <var>readyState</var>:</p>
			<table>
				<thead>
					<tr>
						<th>Valor</th>
						<th>Estado</th>
						<th>Descripción</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td><code>0</code></td>
						<td><code>UNSENT</code></td>
						<td>El cliente ha sido creado. <var>open()</var> no ha sido llamado aún.</td>
					</tr>
					<tr>
						<td><code>1</code></td>
						<td><code>OPENED</code></td>
						<td><var>open()</var> ha sido llamado.</td>
					</tr>
					<tr>
						<td><code>2</code></td>
						<td><code>HEADERS_RECEIVED</code></td>
						<td><var>send()</var> ha sido llamado, y headers y status están disponibles.</td>
					</tr>
					<tr>
						<td><code>3</code></td>
						<td><code>LOADING</code></td>
						<td>Descargando; <var>responseText</var> contiene parte de la información requerida.</td>
					</tr>
					<tr>
						<td><code>4</code></td>
						<td><code>DONE</code></td>
						<td>La petición ha sido completada.</td>
					</tr>
				</tbody>
			</table>
			<p>Una vez determinado lo que haremos al obtener la información del servidor, ejecutamos el método <var>open()</var> para inicializar una petición. Pasaremos como parámetros el método HTTP que queremos ejecutar, la URL a la que enviamos la petición y un flag que indica si la petición se ejecutará asíncronamente o no.</p>
			<p>Tras crear la petición, la enviamos con el método <var>send()</var>.</p>
		</li>
		<li>
			<h2>Lee, investiga y explica con tus propias palabras lo que es un <a href="https://en.wikipedia.org/wiki/Single-page_application" target="_blank" rel="noopener">SPA</a>.</h2>
			<p>Una aplicación web <abbr title="Single-page Application">SPA</abbr> usa una sola página para cargar todo su contenido, el cual se genera dinámicamente dependiendo de la interacción del usuario. Esto genera una sensación de dinamismo y fluidez similar a la que podemos encontrar en una aplicación nativa ya que, al eliminarse la navegación entre páginas del sitio web, su uso es mucho más fluido gracias a que todo ocurre en una sola página y se suprimen las transiciones entre páginas.</p>
		</li>
		<li>
			<h2>Lee, investiga y explica con tus propias palabras lo que es un <a href="https://www.w3schools.com/whatis/whatis_fullstack.asp" target="_blank" rel="noopener">full-stack</a> web developer.</h2>
			<p>Un programador <em>full-stack</em> se encarga del desarrollo del <em>back-end</em> y del <em>front-end</em> de una aplicación web. Esta ocupación implica que se tengan conocimientos de muchos conceptos y tecnologías ya que se tiene que saber programar tanto a nivel servidor como cliente, lo cual puede llegar a generar una fuerte dependencia sobre el programador que desempeñe este rol.</p>
			<p>Algunas de las tecnologías que se tienen que conocer son las siguientes:</p>
			<section id="front-end-technologies">
				<h3>Front-end</h3>
				<ol>
					<li>HTML</li>
					<li>CSS</li>
					<li>CSS framework (mínimo Bootstrap y/o Tailwind CSS, entre otros)</li>
					<li>JavaScript</li>
					<li>JavaScript framework (ReactJS, Vue.js o Angular, entre otros)</li>
				</ol>
			</section>
			<section id="back-end-technologies">
				<h3>Back-end</h3>
				<p>Saber muy bien, al menos, un lenguaje y framework de:</p>
				<ol>
					<li>PHP (Laravel y/o Symphony)</li>
					<li>Python (Flask y/o Django)</li>
					<li>Java (Spring)</li>
					<li>Ruby (Ruby on Rails)</li>
					<li>JavaScript (Node.js)</li>
					<li>C# (.NET)</li>
				</ol>
				<p>Saber usar gestores de bases de datos. Al menos, uno <strong>relacional</strong> y otro <strong>no relacional</strong></p>
				<ol>
					<li>PostgreSQL (relacional)</li>
					<li>MySQL (relacional)</li>
					<li>PL/SQL (relacional)</li>
					<li>MongoDB (no relacional)</li>
				</ol>
				<p>Conocer, a nivel pragmático y dogmático, el uso de APIs <strong>SOAP</strong> y <strong>RESTful</strong>.</p>
			</section>
		</li>
	</ol>
</main>